# Operating System

## 03/20  

인터럽트 매우 매우 중요  

### 인터럽트

- 인터럽트란?  
  - CPU가 현재 수행하고 있는 작업을 멈추고, 다른 작업을 수행해야 할 때 발생하는 것  
  - 인터럽트가 발생하면, CPU는 현재 수행하고 있는 작업을 중단하고, 인터럽트 처리 루틴으로 이동  
  - 인터럽트 처리 루틴은 인터럽트가 발생한 원인을 파악하고, 해당 인터럽트를 처리  
  - 인터럽트 처리가 끝나면, CPU는 인터럽트가 발생하기 전에 수행하던 작업을 다시 수행

I/O가 시작되면 제어는 I/O에서만 사용자 프로그램으로 반환됩니다.  
  대기 명령어는 다음 인터럽트가 될 때까지 CPU를 유휴합니다.  
  대기 루프 (메모리 액세스를위한 경합)  
  최대 하나의 I/O 요청이 한 번에 미결제입니다.  
 동시 I/O 처리  
  I/O가 시작된 후에는 대기하지 않고 사용자 프로그램에 대한 컨트롤 리턴이 있습니다.  
 I/O 완료  
  시스템 호출 - 사용자가 기다릴 수 있도록 OS에 요청  
 I/O 완료  
  장치 상태 테이블에 각 I/O 장치에 대한 항목이 포함되어 있습니다.  
 유형, 주소 및 상태를 나타냅니다  
  OS가 장치를 결정하기 위해 I/O 장치 테이블로 인덱싱됩니다.  
 인터럽트를 포함하도록 테이블 항목을 수정하고 수정합니다  

- 인터럽트의 종류  
  - 하드웨어 인터럽트  
    - 하드웨어 인터럽트는 하드웨어 장치가 CPU에게 알리는 것  
    - 하드웨어 인터럽트는 CPU가 현재 수행하고 있는 작업을 중단하고, 인터럽트 처리 루틴으로 이동  
    - 하드웨어 인터럽트는 다음과 같은 경우에 발생  
      - I/O 요청이 완료되었을 때  
      - 타이머 인터럽트  
      - 프로그램이 0으로 나누려고 할 때  
      - 프로그램이 잘못된 메모리 주소에 접근하려고 할 때  
      - 프로그램이 잘못된 명령을 수행하려고 할 때  
      - 프로그램이 인터럽트를 발생시키는 명령을 수행하려고 할 때  
      - 프로그램이 시스템 콜을 수행하려고 할 때  
      - 프로그램이 키보드 입력을 수행하려고 할 때  
      - 프로그램이 마우스 입력을 수행하려고 할 때  
      - 프로그램이 네트워크 입력을 수행하려고 할 때  
      - 프로그램이 하드디스크 입력을 수행하려고 할 때  
      - 프로그램이 프린터 입력을 수행하려고 할 때  
      - 프로그램이 모니터 입력을 수행하려고 할 때  
      - 프로그램이 CD-ROM 입력을 수행하려고 할 때  
      - 프로그램이 USB 입력을 수행하려고 할 때  
      - 프로그램이 파이프 입력을 수행하려고 할 때  
    - 소프트웨어 인터럽트
      - 소프트웨어 인터럽트는 CPU가 현재 수행하고 있는 작업을 중단하고, 인터럽트 처리 루틴으로 이동

### 인터럽트 처리 루틴

- 인터럽트 처리 루틴은 다음과 같은 일을 수행  
  - 인터럽트가 발생한 원인을 파악  
  - 인터럽트를 처리  
  - 인터럽트 처리가 끝나면, CPU는 인터럽트가 발생하기 전에 수행하던 작업을 다시 수행

### 시스템 콜

시스템 콜이란, 운영체제가 제공하는 서비스를 사용하기 위해 응용 프로그램이 호출하는 인터페이스를 의미한다.

ex) Write(), Fork()

### Caching

캐싱이란, CPU가 메모리에 접근할 때, 메모리에 접근하는 것이 아니라, 캐시에 접근하는 것이다.

캐시는 메모리와 비슷한 속도를 가지고 있기 때문에, 메모리에 접근하는 것보다 빠르다.

캐시는 메모리에 비해 용량이 작기 때문에, 메모리에 접근하는 것보다 용량이 작다.

캐시는 메모리에 비해 비싸기 때문에, 메모리에 접근하는 것보다 비싸다.

- 캐싱 과정  
  - CPU가 메모리에 접근하려고 할 때, 캐시에 접근  
  - 캐시에 접근하려는 데이터가 존재하면, 캐시에서 데이터를 가져옴  
  - 캐시에 접근하려는 데이터가 존재하지 않으면, 메모리에서 데이터를 가져옴  
  - 가져온 데이터를 캐시에 저장  
  - 캐시에 저장된 데이터를 CPU에 전달

캐시가 작지만 빠르기 때문에, 캐시에 데이터를 저장하고, CPU에 전달하는 것이 더 빠르다.

